<Window x:Name="MyWindow" x:Class="MyMoney.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="963" Width="1786.5" Loaded="MyWindow_Loaded">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="6*"/>
            <ColumnDefinition Width="1751*"/>
        </Grid.ColumnDefinitions>
        <Button x:Name="button1" Content="Подключиться к BD" HorizontalAlignment="Left" Margin="250,4,0,0" VerticalAlignment="Top" Width="232" Click="Button_Click" Height="42" Grid.Column="1"/>
        <ListBox x:Name="listBox1" Margin="250,82,0,0" HorizontalAlignment="Left" Width="232" MouseLeftButtonUp="listBox1_MouseLeftButtonUp" Grid.Column="1" SelectionMode="Multiple" Height="204" VerticalAlignment="Top"/>
        <ListBox x:Name="listBox2" Margin="250,292,0,509" HorizontalAlignment="Left" Width="232" FontSize="10" FontFamily="Tekton Pro" Grid.Column="1" SelectionMode="Multiple"/>
        <Button Content="Запуск" Margin="640,0,0,365" Height="30" VerticalAlignment="Bottom" Grid.Column="1" HorizontalAlignment="Left" Width="84" Click="Button_Click_1"/>
        <TextBox x:Name="textBox1" Grid.Column="1" HorizontalAlignment="Left" Height="24" Margin="486,4,0,0" TextWrapping="Wrap" Text="BP12800" VerticalAlignment="Top" Width="98"/>
        <CheckBox x:Name="checkBox1" Content="Подключение к серверу" Grid.Column="1" HorizontalAlignment="Left" Margin="486,42,0,0" VerticalAlignment="Top" Width="158"/>
        <PasswordBox x:Name="passBox1" Grid.Column="1" HorizontalAlignment="Left" Height="24" Margin="622,6,0,0" VerticalAlignment="Top" Width="102" Password="8GVZ7Z"/>
        <TextBox x:Name="tbThreadCount" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="676,64,0,0" TextWrapping="Wrap" Text="7" VerticalAlignment="Top" Width="48" ToolTip="Количество потоков в тесте"/>
        <Label Content="Потоков:" Grid.Column="1" HorizontalAlignment="Left" Margin="608,64,0,0" VerticalAlignment="Top" Width="60" Height="22"/>
        <Label Content="Не учитывать если больше среднего (в ... раз):" Grid.Column="1" HorizontalAlignment="Left" Margin="486,92,0,0" VerticalAlignment="Top" Width="238" FontSize="11"/>
        <TextBox x:Name="tbAverageStart" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="624,122,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbAverageFinish" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="658,122,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="ProfitLong:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,178,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbProfitLongStart" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="624,180,0,0" TextWrapping="Wrap" Text="80" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="LossLong:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,206,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbProfitLongFinish" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="658,180,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongStart" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="624,206,0,0" TextWrapping="Wrap" Text="80" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongFinish" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="658,206,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="IndicLong:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,318,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbIndicatorLongStart" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="624,318,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorLongFinish" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="658,318,0,0" TextWrapping="Wrap" Text="86" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbAverageStep" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="696,122,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitLongStep" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="696,180,0,0" TextWrapping="Wrap" Text="30" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongStep" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="696,206,0,0" TextWrapping="Wrap" Text="30" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorLongStep" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="696,318,0,0" TextWrapping="Wrap" Text="3" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="Усредняться:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,400,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbMartingStart" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="624,400,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbMartingFinish" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="658,400,0,0" TextWrapping="Wrap" Text="2" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbMartingStep" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="696,400,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <ProgressBar x:Name="pbar2" Grid.Column="1" HorizontalAlignment="Left" Margin="260,0,0,399" Width="464" Height="12" VerticalAlignment="Bottom"/>
        <Label x:Name="progressLabel" Content="- / -" Grid.Column="1" HorizontalAlignment="Left" Margin="260,0,0,359" Width="374" Height="36" VerticalAlignment="Bottom" Foreground="Black"/>
        <Label Content="glass:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,150,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbGlassStart" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="624,152,0,0" TextWrapping="Wrap" Text="5" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbGlassFinish" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="658,152,0,0" TextWrapping="Wrap" Text="40" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbGlassStep" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="696,152,0,0" TextWrapping="Wrap" Text="5" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <DataGrid x:Name="dgResult" Grid.Column="1" Margin="737,10,10,0" RowHeaderWidth="70" RowHeight="16" FontSize="9" HeadersVisibility="Column" Height="139" VerticalAlignment="Top" SelectionChanged="dgResult_SelectionChanged" FontFamily="Tahoma" LoadingRow="dgResult_LoadingRow">
            <DataGrid.AlternatingRowBackground>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF9CFFA5" Offset="0"/>
                    <GradientStop Color="#FFADFDB5" Offset="1"/>
                </LinearGradientBrush>
            </DataGrid.AlternatingRowBackground>
            <DataGrid.RowBackground>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF8FDFFD" Offset="0"/>
                    <GradientStop Color="#FF96C5E6" Offset="1"/>
                </LinearGradientBrush>
            </DataGrid.RowBackground>
        </DataGrid>
        <TextBox x:Name="filterTextBox" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="254,54,0,0" TextWrapping="Wrap" Text="RTS-" VerticalAlignment="Top" Width="228"/>
        <DataGrid x:Name="dgResultDeals" Grid.Column="1" Margin="732,270,15,368" FontFamily="Tahoma" FontSize="9" LoadingRow="dgResultDeals_LoadingRow" SelectionChanged="dgResultDeals_SelectionChanged"/>
        <DataGrid x:Name="dgResultDetail" Grid.Column="1" Margin="0,157,10,0" Height="108" VerticalAlignment="Top" AutoGenerateColumns="False" FontFamily="Tahoma" FontSize="9" SelectionChanged="dgResultDetail_SelectionChanged" HorizontalAlignment="Right" Width="1025"/>
        <Label Content="ProfitShort:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,236,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbProfitShortStart" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="624,238,0,0" TextWrapping="Wrap" Text="80" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="LossShort:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,266,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th" RenderTransformOrigin="0.512,1.783"/>
        <TextBox x:Name="tbProfitShortFinish" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="658,238,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortStart" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="624,266,0,0" TextWrapping="Wrap" Text="80" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortFinish" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="658,266,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitShortStep" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="696,238,0,0" TextWrapping="Wrap" Text="30" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortStep" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="696,266,0,0" TextWrapping="Wrap" Text="30" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbAverageCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="574,122,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="32" TextAlignment="Right" Tag="" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitLongCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="574,180,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="574,206,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorLongCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="574,318,0,0" TextWrapping="Wrap" Text="68" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbMartingCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="574,400,0,0" TextWrapping="Wrap" Text="2" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbGlassCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="574,152,0,0" TextWrapping="Wrap" Text="12" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitShortCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="574,238,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="574,266,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="IndicShort:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,344,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbIndicatorShortStart" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="624,344,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorShortFinish" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="658,344,0,0" TextWrapping="Wrap" Text="86" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorShortStep" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="696,344,0,0" TextWrapping="Wrap" Text="3" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorShortCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="20" Margin="574,344,0,0" TextWrapping="Wrap" Text="68" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Canvas x:Name="canvasGraph" Grid.Column="1" Margin="254,577,10,0" Height="218" VerticalAlignment="Top" Background="#FFCF9393"/>
        <Canvas x:Name="canvasIndicator" Grid.Column="1" Margin="254,799,10,0" Height="125" VerticalAlignment="Top"
>
            <Canvas.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="0"/>
                    <GradientStop Color="#FF762222" Offset="1"/>
                </LinearGradientBrush>
            </Canvas.Background>
        </Canvas>
        <TextBox x:Name="tbInformation" Grid.Column="1" HorizontalAlignment="Left" Margin="260,0,0,417" TextWrapping="Wrap" Width="464" FontFamily="Arial" FontSize="9" Height="58" VerticalAlignment="Bottom"/>
        <CheckBox x:Name="chbTrading" Content="Торговать" Grid.Column="1" HorizontalAlignment="Left" Margin="650,40,0,0" VerticalAlignment="Top" Width="84"/>
        <Label Content="Длительн.Ind:" Grid.Column="1" HorizontalAlignment="Left" Margin="486,374,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbDelayStart" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="624,374,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbDelayFinish" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="658,374,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbDelayStep" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="696,374,0,0" TextWrapping="Wrap" Text="2000" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbDelayCurrent" Grid.Column="1" HorizontalAlignment="Left" Height="22" Margin="574,374,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Canvas x:Name="glassCanvas" HorizontalAlignment="Left" Margin="1,4,0,0" Width="252" SizeChanged="glassCanvas_SizeChanged" Grid.ColumnSpan="2">
            <Canvas.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF469AFF" Offset="0"/>
                    <GradientStop Color="#FFC5DDF9" Offset="1"/>
                </LinearGradientBrush>
            </Canvas.Background>
            <Rectangle x:Name="indicatorRect" Fill="#FF155FFF" Canvas.Left="221" Stroke="Black" Width="22" Height="929"/>
            <Rectangle x:Name="indicatorRect2" Fill="#FF155FFF" Canvas.Left="194" Stroke="Black" Width="22" Height="929"/>
            <Rectangle x:Name="indicatorAverageRect" Fill="#FF155FFF" Canvas.Left="167" Stroke="Black" Width="22" Height="929"/>
            <Rectangle x:Name="indicatorAverageRect2" Fill="#FF155FFF" Canvas.Left="140" Stroke="Black" Width="22" Height="929"/>
        </Canvas>
        <CheckBox x:Name="chbVisualisationTest" Content="Визуализация" Grid.Column="1" HorizontalAlignment="Left" Margin="486,66,0,0" VerticalAlignment="Top" Width="118"/>
        <Slider x:Name="speedSlider" Grid.Column="1" HorizontalAlignment="Right" Margin="0,0,1048,481" VerticalAlignment="Bottom" Height="24" Width="416" Interval="44" Minimum="-15" Maximum="30" ValueChanged="speedSlider_ValueChanged"/>
        <Label x:Name="speedLabel" Content="0" Grid.Column="1" HorizontalAlignment="Left" Margin="254,0,0,481" VerticalAlignment="Bottom" Width="48"/>

    </Grid>
</Window>
