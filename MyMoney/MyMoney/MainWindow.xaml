<Window x:Name="MyWindow" x:Class="MyMoney.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="963" Width="1786.5" Loaded="MyWindow_Loaded" KeyUp="MyWindow_KeyUp">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3.8*"/>
            <ColumnDefinition Width="8.2*"/>
            <ColumnDefinition Width="1.99*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="5*"/>
            <RowDefinition Height="400"/>
        </Grid.RowDefinitions>
        <Button x:Name="button1" Content="Подключиться к BD" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Width="228" Click="Button_Click" Height="42"/>
        <ListBox x:Name="listBox1" Margin="10,84,0,0" HorizontalAlignment="Left" Width="228" MouseLeftButtonUp="listBox1_MouseLeftButtonUp" SelectionMode="Multiple" Height="120" VerticalAlignment="Top"/>
        <ListBox x:Name="listBox2" Margin="10,210,0,181" HorizontalAlignment="Left" Width="228" FontSize="10" FontFamily="Tekton Pro" SelectionMode="Multiple"/>
        <Button Content="Запуск" Margin="391,0,0,10" Height="30" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="84" Click="Button_Click_1"/>
        <TextBox x:Name="textBox1" HorizontalAlignment="Left" Height="24" Margin="255,16,0,0" TextWrapping="Wrap" Text="BP12800" VerticalAlignment="Top" Width="98"/>
        <CheckBox x:Name="checkBox1" Content="Подключение к серверу" HorizontalAlignment="Left" Margin="243,51,0,0" VerticalAlignment="Top" Width="158"/>
        <PasswordBox x:Name="passBox1" HorizontalAlignment="Left" Height="24" Margin="391,18,0,0" VerticalAlignment="Top" Width="102" Password="WaNo11998811it"/>
        <TextBox x:Name="tbThreadCount" HorizontalAlignment="Left" Height="22" Margin="429,74,0,0" TextWrapping="Wrap" Text="7" VerticalAlignment="Top" Width="48" ToolTip="Количество потоков в тесте"/>
        <Label Content="Потоков:" HorizontalAlignment="Left" Margin="361,72,0,0" VerticalAlignment="Top" Width="60" Height="25"/>
        <Label Content="Не учитывать если больше среднего (в ... раз):" HorizontalAlignment="Left" Margin="241,96,0,0" VerticalAlignment="Top" Width="238" FontSize="11"/>
        <TextBox x:Name="tbAverageStart" HorizontalAlignment="Left" Height="22" Margin="379,126,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbAverageFinish" HorizontalAlignment="Left" Height="22" Margin="413,126,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="ProfitLong:" HorizontalAlignment="Left" Margin="241,182,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbProfitLongStart" HorizontalAlignment="Left" Height="20" Margin="379,184,0,0" TextWrapping="Wrap" Text="20" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="LossLong:" HorizontalAlignment="Left" Margin="241,210,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbProfitLongFinish" HorizontalAlignment="Left" Height="20" Margin="413,184,0,0" TextWrapping="Wrap" Text="20" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongStart" HorizontalAlignment="Left" Height="22" Margin="379,210,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongFinish" HorizontalAlignment="Left" Height="22" Margin="413,210,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="IndicLong:" HorizontalAlignment="Left" Margin="241,302,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbIndicatorLongStart" HorizontalAlignment="Left" Height="20" Margin="379,302,0,0" TextWrapping="Wrap" Text="86" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorLongFinish" HorizontalAlignment="Left" Height="20" Margin="413,302,0,0" TextWrapping="Wrap" Text="86" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbAverageStep" HorizontalAlignment="Left" Height="22" Margin="451,126,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitLongStep" HorizontalAlignment="Left" Height="20" Margin="451,184,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongStep" HorizontalAlignment="Left" Height="22" Margin="451,210,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorLongStep" HorizontalAlignment="Left" Height="20" Margin="451,302,0,0" TextWrapping="Wrap" Text="3" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="Усредняться:" HorizontalAlignment="Left" Margin="241,384,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbMartingStart" HorizontalAlignment="Left" Height="22" Margin="379,384,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbMartingFinish" HorizontalAlignment="Left" Height="22" Margin="413,384,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbMartingStep" HorizontalAlignment="Left" Height="22" Margin="451,384,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <ProgressBar x:Name="pbar2" HorizontalAlignment="Left" Margin="10,0,0,51" Width="464" Height="12" VerticalAlignment="Bottom"/>
        <Label x:Name="progressLabel" Content="- / -" HorizontalAlignment="Left" Margin="13,0,0,10" Width="364" Height="36" VerticalAlignment="Bottom" Foreground="Black"/>
        <Label Content="glass:" HorizontalAlignment="Left" Margin="241,154,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbGlassStart" HorizontalAlignment="Left" Height="20" Margin="379,156,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbGlassFinish" HorizontalAlignment="Left" Height="20" Margin="413,156,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbGlassStep" HorizontalAlignment="Left" Height="20" Margin="451,156,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <DataGrid x:Name="dgResult" Grid.Column="1" Margin="10,10,10,0" RowHeaderWidth="70" RowHeight="16" FontSize="9" HeadersVisibility="Column" Height="139" VerticalAlignment="Top" SelectionChanged="dgResult_SelectionChanged" FontFamily="Tahoma" LoadingRow="dgResult_LoadingRow">
            <DataGrid.AlternatingRowBackground>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF9CFFA5" Offset="0"/>
                    <GradientStop Color="#FFADFDB5" Offset="1"/>
                </LinearGradientBrush>
            </DataGrid.AlternatingRowBackground>
            <DataGrid.RowBackground>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF8FDFFD" Offset="0"/>
                    <GradientStop Color="#FF96C5E6" Offset="1"/>
                </LinearGradientBrush>
            </DataGrid.RowBackground>
        </DataGrid>
        <TextBox x:Name="filterTextBox" HorizontalAlignment="Left" Height="22" Margin="10,57,0,0" TextWrapping="Wrap" Text="RTS-" VerticalAlignment="Top" Width="228"/>
        <DataGrid x:Name="dgResultDeals" Grid.Column="1" Margin="10,270,10,10" FontFamily="Tahoma" FontSize="9" LoadingRow="dgResultDeals_LoadingRow" SelectionChanged="dgResultDeals_SelectionChanged"/>
        <DataGrid x:Name="dgResultDetail" Grid.Column="1" Margin="10,157,10,0" Height="108" VerticalAlignment="Top" AutoGenerateColumns="False" FontFamily="Tahoma" FontSize="9" SelectionChanged="dgResultDetail_SelectionChanged"/>
        <Label Content="ProfitShort:" HorizontalAlignment="Left" Margin="241,240,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbProfitShortStart" HorizontalAlignment="Left" Height="22" Margin="379,242,0,0" TextWrapping="Wrap" Text="20" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="LossShort:" HorizontalAlignment="Left" Margin="241,270,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th" RenderTransformOrigin="0.512,1.783"/>
        <TextBox x:Name="tbProfitShortFinish" HorizontalAlignment="Left" Height="22" Margin="413,242,0,0" TextWrapping="Wrap" Text="20" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortStart" HorizontalAlignment="Left" Height="20" Margin="379,270,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortFinish" HorizontalAlignment="Left" Height="20" Margin="413,270,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitShortStep" HorizontalAlignment="Left" Height="22" Margin="451,242,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortStep" HorizontalAlignment="Left" Height="20" Margin="451,270,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbAverageCurrent" HorizontalAlignment="Left" Height="22" Margin="329,126,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" Tag="" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitLongCurrent" HorizontalAlignment="Left" Height="20" Margin="329,184,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossLongCurrent" HorizontalAlignment="Left" Height="22" Margin="329,210,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorLongCurrent" HorizontalAlignment="Left" Height="20" Margin="329,302,0,0" TextWrapping="Wrap" Text="68" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbMartingCurrent" HorizontalAlignment="Left" Height="22" Margin="329,384,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbGlassCurrent" HorizontalAlignment="Left" Height="20" Margin="329,156,0,0" TextWrapping="Wrap" Text="220" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbProfitShortCurrent" HorizontalAlignment="Left" Height="22" Margin="329,242,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbLossShortCurrent" HorizontalAlignment="Left" Height="20" Margin="329,270,0,0" TextWrapping="Wrap" Text="180" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Label Content="IndicShort:" HorizontalAlignment="Left" Margin="241,328,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbIndicatorShortStart" HorizontalAlignment="Left" Height="20" Margin="379,328,0,0" TextWrapping="Wrap" Text="86" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorShortFinish" HorizontalAlignment="Left" Height="20" Margin="413,328,0,0" TextWrapping="Wrap" Text="86" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorShortStep" HorizontalAlignment="Left" Height="20" Margin="451,328,0,0" TextWrapping="Wrap" Text="3" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbIndicatorShortCurrent" HorizontalAlignment="Left" Height="20" Margin="329,328,0,0" TextWrapping="Wrap" Text="68" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Canvas x:Name="canvasGraph" Grid.ColumnSpan="2" Margin="361,0,57,0" Height="123" VerticalAlignment="Top" Background="#FFCF9393" Grid.Row="1"/>
        <Canvas x:Name="canvasIndicator" Grid.ColumnSpan="2" Margin="10,128,99,0" Height="262" VerticalAlignment="Top" Grid.Row="1">
            <Canvas.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="0"/>
                    <GradientStop Color="#FF762222" Offset="1"/>
                </LinearGradientBrush>
            </Canvas.Background>
            <Rectangle Fill="White" Height="175" Stroke="Black" Width="1416" Panel.ZIndex="1" IsEnabled="False" Opacity="0.75"/>
            <Rectangle Fill="White" Height="87" Stroke="Black" Width="1416" Panel.ZIndex="1" Opacity="0.45" IsEnabled="False" Canvas.Top="175"/>
            <Rectangle x:Name="speedgradientbar" Fill="{DynamicResource speedgradientbrush}" Height="56" Stroke="Black" Width="1416" Panel.ZIndex="1" IsEnabled="False" Canvas.Top="119">
                <Rectangle.Resources>
                    <SolidColorBrush x:Key="speedgradientbrush" Color="#FF0DF5AB">
                    </SolidColorBrush>
                </Rectangle.Resources>
            </Rectangle>
        </Canvas>
        <TextBox x:Name="tbInformation" HorizontalAlignment="Left" Margin="13,0,0,130" TextWrapping="Wrap" Width="225" FontFamily="Arial" FontSize="9" Height="45" VerticalAlignment="Bottom"/>
        <CheckBox x:Name="chbTrading" Content="Торговать" HorizontalAlignment="Left" Margin="406,50,0,0" VerticalAlignment="Top" Width="84"/>
        <Label Content="Длительн.Ind:" HorizontalAlignment="Left" Margin="241,358,0,0" VerticalAlignment="Top" Width="82" FontSize="11" FontFamily="Roboto Th"/>
        <TextBox x:Name="tbDelayStart" HorizontalAlignment="Left" Height="22" Margin="379,358,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="30" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbDelayFinish" HorizontalAlignment="Left" Height="22" Margin="413,358,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbDelayStep" HorizontalAlignment="Left" Height="22" Margin="451,358,0,0" TextWrapping="Wrap" Text="2000" VerticalAlignment="Top" Width="28" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <TextBox x:Name="tbDelayCurrent" HorizontalAlignment="Left" Height="22" Margin="329,358,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="32" TextAlignment="Right" FontSize="11" FontFamily="Rockwell"/>
        <Canvas x:Name="glassCanvas" Grid.RowSpan="2" Grid.Column="2" HorizontalAlignment="Left" Margin="0,0,0,0" Width="252" SizeChanged="glassCanvas_SizeChanged" Grid.ColumnSpan="2" MouseWheel="glassCanvas_MouseWheel">
            <Canvas.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FFE9F2FD" Offset="0"/>
                    <GradientStop Color="White" Offset="1"/>
                </LinearGradientBrush>
            </Canvas.Background>
            <Rectangle x:Name="indicatorRect" Fill="#FF155FFF" Canvas.Left="221" Stroke="Black" Width="22" Height="929"/>
            <Rectangle x:Name="indicatorRect2" Fill="#FF155FFF" Canvas.Left="194" Stroke="Black" Width="22" Height="929"/>
            <Rectangle x:Name="indicatorAverageRect" Fill="#FF155FFF" Canvas.Left="167" Stroke="Black" Width="22" Height="929" Visibility="Hidden"/>
            <Rectangle x:Name="indicatorAverageRect2" Fill="#FF155FFF" Canvas.Left="140" Stroke="Black" Width="22" Height="929" Visibility="Hidden"/>
        </Canvas>
        <CheckBox x:Name="chbVisualisationTest" Content="Визуализация" HorizontalAlignment="Left" Margin="243,74,0,0" VerticalAlignment="Top" Width="118"/>
        <Slider x:Name="speedSlider" Grid.Column="0" HorizontalAlignment="Right" Margin="0,0,34,68" VerticalAlignment="Bottom" Height="24" Width="413" Interval="44" Minimum="-15" Maximum="30" ValueChanged="speedSlider_ValueChanged"/>
        <Label x:Name="speedLabel" Content="0" HorizontalAlignment="Left" Margin="10,0,0,68" VerticalAlignment="Bottom" Width="48"/>
        <TextBlock x:Name="tbValuesGlass" Grid.Column="1" HorizontalAlignment="Left" Margin="990,128,0,0" Grid.Row="1" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" FontFamily="Kartika" FontWeight="Bold" Width="47"/>
        <TextBlock x:Name="tbValuesGlass25" Grid.Column="1" HorizontalAlignment="Left" Margin="990,294,0,0" Grid.Row="1" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="47" RenderTransformOrigin="0.435,-0.391" FontFamily="Kartika" FontWeight="Bold"/>
        <Slider HorizontalAlignment="Left" Margin="64,35,0,0" Grid.Row="1" VerticalAlignment="Top" Width="289" Maximum="30" SmallChange="1" ValueChanged="Slider_ValueChanged_1"/>
        <Slider HorizontalAlignment="Right" Margin="0,63,130,0" Grid.Row="1" VerticalAlignment="Top" Width="289" Maximum="1500" SmallChange="10" LargeChange="20" Value="220" ValueChanged="Slider_ValueChanged" TickFrequency="10"/>
        <Label x:Name="lbLevelIngoreVal" Content="220" HorizontalAlignment="Left" Margin="10,63,0,0" VerticalAlignment="Top" Width="48" FontSize="11" FontFamily="Roboto Th" Grid.Row="1"/>
        <Label x:Name="lbLevelIngoreGlass" Content="0" HorizontalAlignment="Left" Margin="10,35,0,0" VerticalAlignment="Top" Width="48" FontSize="11" FontFamily="Roboto Th" Grid.Row="1"/>
        <Slider HorizontalAlignment="Left" Margin="64,10,0,0" Grid.Row="1" VerticalAlignment="Top" Width="289" Minimum="1" Maximum="50" SmallChange="1" Value="18" ValueChanged="Slider_ValueChanged_2"/>
        <Label x:Name="lbLevelHeighGlass" Content="18" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Width="48" FontSize="11" FontFamily="Roboto Th" Grid.Row="1"/>
        <TextBlock x:Name="tbValuesGlass25_Copy" Grid.Column="1" HorizontalAlignment="Left" Margin="990,333,0,0" Grid.Row="1" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Width="47" RenderTransformOrigin="0.435,-0.391" FontFamily="Kartika" FontWeight="Bold"/>
    </Grid>
</Window>
